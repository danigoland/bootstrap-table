/*
* bootstrap-table - v1.11.0 - 2016-10-09
* https://github.com/wenzhixin/bootstrap-table
* Copyright (c) 2016 zhixin wen
* Licensed MIT License
*/
!function(){"undefined"!=typeof angular&&angular.module("bsTable",[]).directive("bsTableControl",["$compile",function(a){function b(a){var b;return $.each(g,function(c,e){return e.$el.closest(d).has(a).length?(b=e,!0):void 0}),b}function c(){var a=this,b=a.$s.bsTableControl.state;a.$s.$applyAsync(function(){b.scroll=a.$el.bootstrapTable("getScrollPosition")})}var d=".bootstrap-table",e=".fixed-table-body",f=".search input",g={};return $(window).resize(function(){$.each(g,function(a,b){b.$el.bootstrapTable("resetView")})}),$(document).on("post-header.bs.table",d+" table",function(a){var f=b(a.target);f&&f.$el.closest(d).find(e).on("scroll",c.bind(f))}).on("sort.bs.table",d+" table",function(a,c,d){var e=b(a.target);if(e){var f=e.$s.bsTableControl.state;e.$s.$applyAsync(function(){f.sortName=c,f.sortOrder=d})}}).on("page-change.bs.table",d+" table",function(a,c,d){var e=b(a.target);if(e){var f=e.$s.bsTableControl.state;e.$s.$applyAsync(function(){f.pageNumber=c,f.pageSize=d})}}).on("search.bs.table",d+" table",function(a,c){var d=b(a.target);if(d){var e=d.$s.bsTableControl.state;d.$s.$applyAsync(function(){e.searchText=c})}}).on("focus blur",d+" "+f,function(a){var c=b(a.target);if(c){var d=c.$s.bsTableControl.state;c.$s.$applyAsync(function(){d.searchHasFocus=$(a.target).is(":focus")})}}),{restrict:"EA",scope:{bsTableControl:"="},link:function(b,c){g[b.$id]={$s:b,$el:c};b.instantiated=!1,b.$watch("bsTableControl.options",function(a){a||(a=b.bsTableControl.options={});var e=b.bsTableControl.state||{};b.instantiated&&c.bootstrapTable("destroy"),c.bootstrapTable(angular.extend(angular.copy(a),e)),b.instantiated=!0,"scroll"in e&&c.bootstrapTable("scrollTo",e.scroll),"searchHasFocus"in e&&c.closest(d).find(f).focus()},!0),b.$watch("bsTableControl.state",function(a){a||(a=b.bsTableControl.state={}),c.trigger("directive-updated.bs.table",[a])},!0),c.bind("post-body.bs.table",function(){a(c.contents())(b)}),b.$on("$destroy",function(){delete g[b.$id]})}}}])}();